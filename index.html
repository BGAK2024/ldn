<!DOCTYPE html>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8" />
        <title>Linked Data notifications</title>
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <link href="https://dokie.li/media/css/basic.css" media="all" rel="stylesheet alternate" title="Basic" />
        <link href="https://dokie.li/media/css/lncs.css" media="all" rel="stylesheet alternate" title="LNCS" />
        <link href="https://dokie.li/media/css/acm.css" media="all" rel="stylesheet alternate" title="ACM" />
        <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-ED" media="all" rel="stylesheet" title="W3C-ED" />
        <link href="https://dokie.li/media/css/do.css" media="all" rel="stylesheet" />
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" media="all" rel="stylesheet" />
        <link href="https://dokie.li/media/css/editor.css" media="all" rel="stylesheet" />
<style>
.hljs-request,
.hljs-status {
  color: #333;
  font-weight: bold;
}
.hljs-string {
  color: #d14;
}
.hljs-attribute,
.hljs-variable,
.hljs-name,
.hljs-number {
  color: #008080;
}

body {
counter-reset:section;
counter-reset:sub-section;
}
em.rfc2119 { color: #900; }
code { color: #c83500; }
pre code { color: #333; }
.do.fragment a { border-bottom:0; }
.do.fragment a:hover { background:none; border-bottom:0; }
figure pre { margin:1em 0; }

article section:not([id=abstract]):not([id=document-status]):not([id=references]):not([id=appendix]):not([id=acknowledgements]) {
counter-increment:section;
counter-reset:sub-section;
}
article section:not([id=abstract]):not([id=document-status]):not([id=references]):not([id=appendix]):not([id=acknowledgements]) section {
counter-increment:sub-section;
counter-reset:sub-sub-section;
}
article section:not([id=abstract]):not([id=document-status]):not([id=references]):not([id=appendix]):not([id=acknowledgements]) section section {
counter-increment:sub-sub-section;
counter-reset:sub-sub-sub-section;
}
article section:not([id=abstract]):not([id=document-status]):not([id=references]):not([id=appendix]):not([id=acknowledgements]):not([id^=table-of-]) > h2:before {
content:counter(section) ".\00a0\00a0\00a0\00a0";
}
section > h3:before {
content:counter(section) "." counter(sub-section) "\00a0\00a0\00a0";
}
section > h4:before {
content:counter(section)"." counter(sub-section) "." counter(sub-sub-section) "\00a0\00a0\00a0";
}

</style>
        <script src="https://dokie.li/scripts/simplerdf.js"></script>
        <script src="https://dokie.li/scripts/medium-editor.min.js"></script>
        <script src="https://dokie.li/scripts/medium-editor-tables.min.js"></script>
        <script src="https://dokie.li/scripts/do.js"></script>
    </head>

    <body about="" prefix="rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns# rdfs: http://www.w3.org/2000/01/rdf-schema# owl: http://www.w3.org/2002/07/owl# xsd: http://www.w3.org/2001/XMLSchema# dcterms: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ v: http://www.w3.org/2006/vcard/ns# pimspace: http://www.w3.org/ns/pim/space# cc: http://creativecommons.org/ns# skos: http://www.w3.org/2004/02/skos/core# prov: http://www.w3.org/ns/prov# schema: https://schema.org/ rsa: http://www.w3.org/ns/auth/rsa# cert: http://www.w3.org/ns/auth/cert# cal: http://www.w3.org/2002/12/cal/ical# wgs: http://www.w3.org/2003/01/geo/wgs84_pos# org: http://www.w3.org/ns/org# biblio: http://purl.org/net/biblio# bibo: http://purl.org/ontology/bibo/ book: http://purl.org/NET/book/vocab# ov: http://open.vocab.org/terms/ doap: http://usefulinc.com/ns/doap# dbr: http://dbpedia.org/resource/ dbp: http://dbpedia.org/property/ sio: http://semanticscience.org/resource/ opmw: http://www.opmw.org/ontology/ deo: http://purl.org/spar/deo/ doco: http://purl.org/spar/doco/ cito: http://purl.org/spar/cito/ fabio: http://purl.org/spar/fabio/ oa: http://www.w3.org/ns/oa# ldp: http://www.w3.org/ns/ldp# solid: http://www.w3.org/ns/solid/terms#" typeof="schema:CreativeWork sioc:Post prov:Entity">
        <main>
            <article about="" typeof="schema:Article">
                <h1 property="schema:name">Linked Data notifications</h1>

                <div id="authors">
                    <dl id="author-name">
                        <dt>Editors</dt>
                        <dd id="Sarven-Capadisli" inlist="" rel="bibo:authorList" resource="http://csarven.ca/#i"><span about="" rel="schema:creator schema:publisher schema:author"><a about="http://csarven.ca/#i" href="http://csarven.ca/" property="schema:name" rel="schema:url" typeof="schema:Person"><span property="schema:givenName">Sarven</span> <span property="schema:familyName">Capadisli</span></a></span>, <a about="http://csarven.ca/#i" href="http://uni-bonn.de/" rel="schema:memberOf" resource="http://dbpedia.org/resource/University_of_Bonn">University of Bonn</a></dd>
                        <dd id="Amy-Guy" inlist="" rel="bibo:authorList" resource="http://rhiaro.co.uk/about#me"><span about="" rel=" schema:author"><a about="http://rhiaro.co.uk/about#me" href="http://rhiaro.co.uk/" property="schema:name" rel="schema:url" typeof="schema:Person"><span property="schema:givenName">Amy</span> <span property="schema:familyName">Guy</span></a></span>, <a about="http://rhiaro.co.uk/about#me" href="http://www.ed.ac.uk/" rel="schema:memberOf" resource="http://dbpedia.org/resource/University_of_Edinburgh">University of Edinburgh</a></dd>
                    </dl>
                </div>

                <dl id="document-identifier">
                    <dt>This version</dt>
                    <dd><a href="https://rawgit.com/csarven/ldn/master/index.html" rel="owl:sameAs">https://rawgit.com/csarven/ldn/master/index.html</a></dd>
                </dl>

                <dl id="document-inbox">
                    <dt>Notifications Inbox</dt>
                    <dd><a href="https://linkedresearch.org/inbox/temp/" rel="ldp:inbox">inbox/</a></dd>
                </dl>

                <dl id="document-published">
                    <dt>Published</dt>
                    <dd><time datatype="xsd:dateTime" datetime="2016-06-14T00:00:00Z" property="schema:datePublished">2016-06-14</time></dd>
                </dl>

                <dl id="document-modified">
                    <dt>Modified</dt>
                    <dd><time datatype="xsd:dateTime" datetime="2016-06-15T00:00:00Z" property="schema:dateModified">2016-06-15</time></dd>
                </dl>

                <dl id="document-repository">
                    <dt>Repository</dt>
                    <dd><a href="https://github.com/csarven/ldn">Github Repository</a></dd>
                </dl>

                <p class="copyright"><mark class="todo"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a rel="license" href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</mark></p>

                <div id="content">
                    <section id="abstract">
                        <h2>Abstract</h2>
                        <div datatype="rdf:HTML" property="schema:abstract">
                          <p>This article describes a protocol to deliver and use notifications on the Web.</p>
                        </div>
                    </section>

                    <section id="document-status" inlist="" rel="schema:hasPart" resource="#document-status">
                        <h2 property="schema:name">Status of This Document</h2>
                        <div datatype="rdf:HTML" property="schema:description">
                            <p><em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at http://www.w3.org/TR/.</em></p>

                            <p><strong>This is a work in progress. No section should be considered final, and the absence of any content does not imply that such content is out of scope, or may not appear in the future. If you feel something should be covered, please <a href="#"><mark class="todo">tell us!</mark></a></strong></p>

                            <p>This document was published by the <a href="#"><mark class="todo">XXX</mark> Working Group</a> as a <mark class="todo">XXX</mark> Draft. This document is intended to become a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation. If you wish to make comments regarding this document, please send them to <a href="#"><mark class="todo">XXX</mark></a> (<a href="#">subscribe</a>, <a href="#">archives</a>). All comments are welcome.</p>

                            <p>Publication as a <mark class="todo">XXX</mark> Draft does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership. This is a draft document and may be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite this document as other than work in progress.</p>

                            <p>This document was produced by a group operating under the <a id="sotd_patent" property="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/73180/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.</p>

                            <p>This document is governed by the <a id="w3c_process_revision" href="http://www.w3.org/2015/Process-20150901/">1 September 2015 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.</p>
                        </div>
                    </section>

                    <section id="introduction" inlist="" rel="schema:hasPart" resource="#introduction">
                        <h2 property="schema:name">Introduction</h2>
                        <div datatype="rdf:HTML" property="schema:description">
                            <p>Linked Data Notifications is a specialised use of Linked Data Platform [<cite><a class="bibref" href="#bib-LDP">LDP</a></cite>] for sending and consuming notifications. It is not dependent on a complete implementation of LDP but designed to be compatible. This specification describes the particular features necessary to make it easy to exchange notifications in a decentralised, interoperable way.</p>

                            <p>This protocol assumes a modular approach to creating and storing data, in particular a decoupling between applications and data storage. Thus, where senders, receivers and consumers of notifications are independently implemented and run on different technology stacks, this protocol allows them to seamlessly work together.</p>

                            <section id="overview" inlist="" rel="schema:hasPart" resource="#overview">
                                <h3 property="schema:name">Overview</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p>A sender is triggered, either by a human or an automatic process, to deliver a notification to a server. The notification is data intended for the attention of the receiver, for example: a personal message from a friend; a pingback link; a comment on a blog post; an invitation to collaborate; a calendar reminder.</p>

                                    <p>The sender discovers where to deliver the notification based on the addressee or subject of the notification (the receiver) who advertises the appropriate location to send it to (the Inbox). The receiver also exposes the notification data (according to appropriate access control) for use by consumers.</p>

                                    <p>Consumers discover the notifications in the same way as the sender, and may perform further processing on it, combine it with some other data, or simply present it in a suitable human-readable way.</p>
                                </div>
                            </section>

                            <section id="summary" inlist="" rel="schema:hasPart" resource="#summary">
                                <h3 property="schema:name">Summary</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p id="summary-discovery"><strong><a href="#discovery">Discovery</a></strong>: Senders and consumers can discover resources' <em>Inbox(es)</em> URL(s) through a relation in the HTTP <code>Link</code> header or body, which is either <code>ldp:inbox</code> or a domain specific property eg. <code>as:replies</code> (whence the Inbox has type <code>ldp:Inbox</code>).</p>

                                    <p id="summary-sender"><strong><a href="#sending">Sender</a></strong>:</p>
                                    <ul>
                                        <li>Create the body of the notification according to the needs of application.</li>
                                        <li>Send the notification to the Inbox URL by making a <code>POST</code> request, containing the body in JSON-LD or in another serialization acceptable by the server.</li>
                                    </ul>

                                    <p id="summary-consumer"><strong><a href="#consuming">Consumer</a></strong>:</p>
                                    <ul>
                                        <li>Retrieve and use the contents of the Inbox URL according to the needs of application.</li>
                                    </ul>

                                    <p id="summary-receiver"><strong><a href="#receiving">Receiver</a></strong>:</p>
                                    <ul>
                                        <li>Accept <code>GET</code> requests for the Inbox URL and respond with JSON-LD or if possible, requested serialization.</li>
                                        <li>Accept <code>POST</code> requests to create notifications at the Inbox URL, and be discoverable through the Inbox URL.</li>
                                    </ul>
                                </div>
                            </section>
                        </div>
                    </section>

                    <section id="conformance" inlist="" rel="schema:hasPart" resource="#conformance">
                        <h2 property="schema:name">Conformance</h2>
                        <div datatype="rdf:HTML" property="schema:description">
                            <p>Implementations may be one or more of <em>senders</em>, <em>receivers</em> or <em>consumers</em>. For each feature, the specification indicates the role(s) for which the feature is normatively required. As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative.</p>

                            <p id="rfc2119">The key words <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, <em class="rfc2119">SHOULD</em>, and <em class="rfc2119">MAY</em> are to be interpreted as described in [<cite><a class="bibref" href="#bib-RFC2119">RFC2119</a></cite>].</p>
                        </div>
                    </section>


                    <section id="protocol" inlist="" rel="schema:hasPart" resource="#protocol">
                        <h2 property="schema:name">Protocol</h2>
                        <div datatype="rdf:HTML" property="schema:description">
                            <p>This section describes the discovery of the URL to which notifications may be delivered or read from (the <em>Inbox</em>) and the delivery mechanism. Notification contents are described in <a href="#payload">Payload</a>.</p>

                            <section id="discovery" inlist="" rel="schema:hasPart" resource="#discovery">
                                <h3 property="schema:name">Discovery</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p>An <em>Inbox</em>, the endpoint which notifications are sent to or consumed from, can be discovered from any resource, for example a blog post, a dataset, a user profile. Multiple resources <em class="rfc2119">MAY</em> use the same Inbox; one resource <em class="rfc2119">MAY</em> have multiple Inbox URLs. The starting point for discovery is the resource which the notification is to or about: the <em>target</em>. Choosing the most appropriate target resource is at the discretion of the sender or consumer.</p>

                                    <p>Senders and consumers <em class="rfc2119">MUST</em> fetch the target resource URL (and follow redirects), or make a <code>HEAD</code> request, to check for an HTTP <code>Link</code> header with a <code>rel</code> value of <code>http://www.w3.org/ns/ldp#inbox</code>. If no such Link header is found, senders and consumers can discover the Inbox from its body. Senders and consumers <em class="rfc2119">MUST</em> use the object URI(s) of the predicate <code>http://www.w3.org/ns/ldp#inbox</code> in RDF Sources [<cite><a class="bibref" href="#bib-LDP-RS">LDP-RS</a></cite>]. If the content cannot be parsed as RDF, but the content type is <code>text/html</code> senders and consumers <em class="rfc2119">MUST</em> look for the <code>rel</code> attribute containing value <code>http://www.w3.org/ns/ldp#inbox</code> along with the corresponding attribute for the element (e.g., <code>&lt;a href&gt;</code>) for the Inbox URL.</p>

                                    <p>Senders and consumers <em class="rfc2119">MAY</em> follow domain specific relations instead of <code>ldp:inbox</code> (for example, but not limited to: <code>sioc:has_discussion</code>, <code>as:replies</code>, <code>oa:annotationService</code>) to discover an Inbox. In this case, the Inbox <em class="rfc2119">MUST</em> be an instance of <code>http://www.w3.org/ns/ldp#Inbox</code>, determined through a <code>Link</code> header with <code>rel="type"</code> or an <code>rdf:type</code> relation on the Inbox itself. Receivers <em class="rfc2119">MAY</em> choose to advertise an Inbox using <em>only</em> a domain specific relation and <code>ldp:Inbox</code> type, with the understanding that only senders and consumers which explicitly check for this relation will be able to discover it.</p>
                                </div>
                            </section>

                            <section id="sending" inlist="" rel="schema:hasPart" resource="#sending">
                                <h3 property="schema:name">Sending</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p>Senders <em class="rfc2119">MUST</em> deliver notifications through a <code>POST</code> request to the Inbox URL. Senders can expect a <code>200 OK</code> (with a <code>Content-Location</code> Link header), <code>201 Created</code> (with a <code>Location</code> Link header), or <code>202 Accepted</code> in response to a successful request.</p>
 
                                    <p>The sender <em class="rfc2119">MAY</em> use a <code>HEAD</code> request to determine the RDF content types accepted by the server, and serialize the notification in the request body according to the value of the <code>Accept</code> header returned. Otherwise, the body of the <code>POST</code> request <em class="rfc2119">MUST</em> contain the notification <a href="#payload">payload</a> in JSON-LD.</p>

                                    <p>If the sender discovered the Inbox through a domain specific relation to the target resource, the sender <em class="rfc2119">SHOULD</em> use the same vocabulary in the notification content.</p>

                                    <p>The sender <em class="rfc2119">MAY</em> include additional headers or content for the purposes of authentication or authorization.</p>
                                </div>
                            </section>

                            <section id="consuming" inlist="" rel="schema:hasPart" resource="#consuming">
                                <h3 property="schema:name">Consuming</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p>Consumers retrieve the URIs of notifications in an Inbox through making a <code>GET</code> request on the Inbox URL.</p>

                                    <p>Consumers which discovered the Inbox URL through a domain specific relation <em class="rfc2119">SHOULD</em> expect the URIs of the notifications to be discoverable through a suitable predicate from the same vocabulary. Similarly, consumers <em class="rfc2119">SHOULD</em> expect the notifications themselves to be expressed in this vocabulary too.</p>

                                    <p>Otherwise, the URIs of the notifications will be discoverable through the <code>ldp:contains</code> predicate.</p>

                                    <p>The consumer <em class="rfc2119">MAY</em> include additional headers or content for the purposes of authentication or authorization.</p>

                                    <p>Consumers <em class="rfc2119">MAY</em> perform additional fetching or inferring of information from the payload (eg. dereferencing resources referenced in the notification to fetch their contents) at their discretion.</p>
                                </div>
                            </section>

                            <section id="receiving" inlist="" rel="schema:hasPart" resource="#receiving">
                                <h3 property="schema:name">Receiving</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p>Receivers <em class="rfc2119">MUST</em> support <code>GET</code> and <code>POST</code> requests on the Inbox URL. In LDP terms, an Inbox is a <em>Container</em>.</p>

                                    <section id="receiving-notifications" inlist="" rel="schema:hasPart" resource="#receiving-notifications">
                                        <h4 property="schema:name">Receiving notifications</h4>
                                        <div datatype="rdf:HTML" property="schema:description">
                                            <p>Upon receipt of a <code>POST</code> request to the Inbox, the receiver <em class="rfc2119">MUST</em> create a new resource containing the RDF data from the body of the <code>POST</code> request and <em class="rfc2119">MUST</em> return either <code>HTTP 200 OK</code>, <code>HTTP 201 Created</code>, <code>HTTP 202 Accepted</code> or <code>HTTP 204 No Content</code>. In the case of a <code>200</code> a <code>Content-Location</code> header pointing to the created resource <em class="rfc2119">MUST</em> also be returned. In the case of a <code>201</code> a <code>Location</code> header pointing to the created resource <em class="rfc2119">MUST</em> also be returned. In the case of a <code>204</code> a <code>Content-Location</code> header pointing to the created resource <em class="rfc2119">SHOULD</em> also be returned.</p>

                                            <p>Receivers <em class="rfc2119">MUST</em> accept notifications where the request body is JSON-LD, with the <code>Content-Type: application/ld+json</code>, and <em class="rfc2119">MAY</em> accept other RDF content types (eg. <code>text/turtle</code>, <code>text/html</code>). Receivers <em class="rfc2119">SHOULD</em> advertise the content types they accept with an <code>Accept</code> header on the Inbox URL. Receivers <em class="rfc2119">MAY</em> reserialize a notification into a different syntax upon delivery, prior to doing anything else with it.</p>

                                            <p>Example Request:</p>
                                            <figure class="listing example" id="request-example" rel="schema:hasPart" resource="#request-example">
                                                <pre about="#request-example" class="hljs http" property="schema:description" typeof="fabio:Script">
<code><span class="hljs-request">GET <span class="hljs-string">/annotations/</span> HTTP/1.1</span></code>
<code><span class="hljs-attribute">Host</span>: <span class="hljs-string">example.org</span></code>
<code><span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/ld+json; profile="http://www.w3.org/ns/anno.jsonld"</span></code>
                                                </pre>
                                                <figcaption property="schema:name">Example request</figcaption>
                                            </figure>

                                            <p>Example Response:</p>
                                            <figure class="listing example" id="response-example" rel="schema:hasPart" resource="#response-example">
                                                <pre about="#response-example" class="hljs http" property="schema:description" typeof="fabio:Script">
<code><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span></code>
<code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/ld+json; profile="http://www.w3.org/ns/anno.jsonld"</span></code>
<code><span class="hljs-attribute">ETag</span>: <span class="hljs-string">"_87e52ce123123"</span></code>
<code><span class="hljs-attribute">Link</span>: <span class="hljs-string">&lt;http://www.w3.org/ns/ldp#BasicContainer&gt;; rel="type"</span></code>
<code><span class="hljs-attribute">Link</span>: <span class="hljs-string">&lt;http://www.w3.org/TR/annotation-protocol/&gt;; rel="http://www.w3.org/ns/ldp#constrainedBy"</span></code>
<code><span class="hljs-attribute">Allow</span>: <span class="hljs-string">POST,GET,OPTIONS,HEAD</span></code>
<code><span class="hljs-attribute">Vary</span>: <span class="hljs-string">Accept</span></code>
<code><span class="hljs-attribute">Content-Length</span>: <span class="hljs-string">368</span></code>

<code>{</code>
<code>  "<span class="hljs-attribute">@context</span>": <span class="hljs-value">[</span></code>
<code>    <span class="hljs-string">"http://www.w3.org/ns/anno.jsonld"</span>,</code>
<code>    <span class="hljs-string">"http://www.w3.org/ns/ldp.jsonld"</span></code>
<code>  <span class="hljs-value">]</span>,</code>
<code>  "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"http://example.org/annotations/"</span></span>,</code>
<code>  "<span class="hljs-attribute">type</span>": <span class="hljs-value">[<span class="hljs-string">"BasicContainer"</span>, <span class="hljs-string">"AnnotationCollection"</span>]</span>,</code>
<code>  "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-number">42023</span></span>,</code>
<code>  "<span class="hljs-attribute">label</span>": <span class="hljs-value"><span class="hljs-string">"A Container for Web Annotations"</span></span>,</code>
<code>  "<span class="hljs-attribute">first</span>": <span class="hljs-value"><span class="hljs-string">"http://example.org/annotations/?page=0"</span></span>,</code>
<code>  "<span class="hljs-attribute">last</span>": <span class="hljs-value"><span class="hljs-string">"http://example.org/annotations/?page=42"</span></span></code>
<code>}</code>
                                                </pre>
                                                <figcaption property="schema:name">Example response</figcaption>
                                            </figure>
                                        </div>
                                    </section>

                                    <section id="receiving-inbox-contents" inlist="" rel="schema:hasPart" resource="#receiving-inbox-contents">
                                        <h4 property="schema:name">Making Inbox contents available to consumers</h4>
                                        <div datatype="rdf:HTML" property="schema:description">
                                            <p>A successful <code>GET</code> request on the Inbox <em class="rfc2119">MUST</em> return a <code>HTTP 200 OK</code> with the URIs of notifications, which <em class="rfc2119">MAY</em> be subject to paging or access control restrictions at the receivers discretion (returning <code>4xx</code> error codes as applicable).</p>

                                            <p>If the <code>GET</code> request has no <code>Accept</code> header, the results <em class="rfc2119">MUST</em> be returned as JSON-LD; otherwise the receiver <em class="rfc2119">SHOULD</em> return the results in the serialization requested, or a <code>415 Unsupported Media Type</code> error if the requested serialization is not available.</p>

                                            <p>Data about the Inbox itself <em class="rfc2119">MAY</em> also be returned.</p>

                                            <p>If the receiver is advertising the Inbox using a domain specific vocabulary for the relation with the target, these results <em class="rfc2119">SHOULD</em> also use this vocabulary. Otherwise, each notification URI <em class="rfc2119">SHOULD</em> be related to the Inbox URL with the <code>ldp:contains</code> predicate.</p>

                                            <p class="todo">Making sure the actual individual notifications are available to consumers</p>

                                            <p>Example using LDP vocabulary:</p>

                                            <figure class="listing example" id="results-example-inbox-discovery-ldp" rel="schema:hasPart" resource="#results-example-inbox-discovery-ldp">
                                                <pre about="#results-example-inbox-discovery-ldp" class="hljs" property="schema:description" typeof="fabio:Script">
<code>{</code>
<code>  "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/profile"</span></span>,</code>
<code>  "<span class="hljs-attribute">ldp:inbox</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/messages/"</span></span></code>
<code>}</code>
                                                </pre>
                                                <figcaption>Inbox discovery.</figcaption>
                                            </figure>

                                            <figure class="listing example" id="results-example-inbox-contains-ldp" rel="schema:hasPart" resource="#results-example-inbox-contains-ldp">
                                                <pre about="#results-example-inbox-contains-ldp" class="hljs" property="schema:description" typeof="fabio:Script">
<code>{</code>
<code>  "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/messages/"</span></span>,</code>
<code>  "<span class="hljs-attribute">ldp:contains</span>": <span class="hljs-value">[</span></code>
<code>    { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/notification-1"</span></span> },</code>
<code>    { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/notification-2"</span></span> }</code>
<code>  <span class="hljs-value">]</span></code>
<code>}</code>
                                                </pre>
                                                <figcaption>Results of GET request on Inbox.</figcaption>
                                            </figure>

                                            <p>Example using domain specific vocabulary (ActivityStreams 2.0):</p>

                                            <figure class="listing example" id="results-example-inbox-discovery-as" rel="schema:hasPart" resource="#results-example-inbox-discovery-as">
                                                <pre about="#results-example-inbox-discovery-as" class="hljs" property="schema:description" typeof="fabio:Script">
<code>{</code>
<code>  "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/profile"</span></span>,</code>
<code>  "<span class="hljs-attribute">as:replies</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/messages/"</span></span></code>
<code>}</code>
                                                </pre>
                                                <figcaption>Inbox discovery.</figcaption>
                                            </figure>

                                            <figure class="listing example" id="results-example-inbox-contains-as" rel="schema:hasPart" resource="#results-example-inbox-contains-as">
                                                <pre about="#results-example-inbox-contains-as" class="hljs" property="schema:description" typeof="fabio:Script">
<code>{</code>
<code>  "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/messages/"</span></span>,</code>
<code>  "<span class="hljs-attribute">@type</span>": <span class="hljs-value">[<span class="hljs-string">"ldp:Inbox"</span>, <span class="hljs-string">"as:Collection"</span>]</span>,</code>
<code>  "<span class="hljs-attribute">as:items</span>": <span class="hljs-value">[</span></code>
<code>    <span class="hljs-value">{ "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/notification-1"</span></span> }</span>,</code>
<code>    <span class="hljs-value">{ "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/notification-2"</span></span> }</span></code>
<code>  <span class="hljs-value">}</span></code>
<code>}</code>
                                                </pre>
                                                <figcaption>Results of GET request on Inbox.</figcaption>
                                            </figure>
                                        </div>
                                    </section>
                                </div>
                            </section>
                        </div>
                    </section>

                    <section id="payload" inlist="" rel="schema:hasPart" resource="#payload">
                        <h2 property="schema:name">Payload</h2>
                        <div datatype="rdf:HTML" property="schema:description">
                            <p>To allow for a wide variety of use cases, the actual payload of the notification (the request body) is deliberately left to the discretion of the sender. The sender <em class="rfc2119">MUST NOT</em> assume that the receiver can fetch or infer anything additional from the payload, and thus <em class="rfc2119">MUST</em> include everything they want the receiver to know.</p>

                            <p id="rights-and-license">Senders <em class="rfc2119">SHOULD</em> include rights or license information in the payload as the notification may be reused or displayed by different consumers and environments.</p>

                            <section id="payload-examples" inlist="" rel="schema:hasPart" resource="#payload-examples">
                                <h3 property="schema:name">Payload Examples</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p>Here are some examples of notification content:</p>

                                    <section id="single-statement" inlist="" rel="schema:hasPart" resource="#single-statement">
                                        <h4 property="schema:name">Single Statement</h4>
                                        <div datatype="rdf:HTML" property="schema:description">
                                            <p>A single triple statement is the simplest notification in terms of its data payload. It contains the most essential data which makes up a notification e.g, Alice liked an article:</p>

                                            <figure class="listing example" id="notification-single-statement" rel="schema:hasPart" resource="#notification-single-statement">
                                                <pre about="#notification-single-statement" property="schema:description" typeof="fabio:Script">
<code>&lt;https://example.org/profile#alice&gt; :liked &lt;https://example.net/article&gt; .</code>
                                                </pre>
                                                <figcaption property="schema:name">Example notification type: single statement.</figcaption>
                                            </figure>

                                            <p>This approach is useful if there is a need to further extend the statement's description or refer to it as a whole.</p>
                                        </div>
                                    </section>


                                    <section id="qualified-relations" inlist="" rel="schema:hasPart" resource="#qualified-relations">
                                        <h4 property="schema:name">Qualified relations</h4>
                                        <div datatype="rdf:HTML" property="schema:description">
                                            <p>A particular grouping of triples which describe and qualify the relations, i.e., the vocabulary in use typically gives meaning to the statements when consumed as a whole. The examples below tend to refer to external resources where the body of the content can be discovered.</p>

                                            <p>ActivityStreams:</p>
                                            <figure class="listing example" id="notification-qualified-relation" rel="schema:hasPart" resource="#notification-qualified-relation">
                                                <pre about="#notification-qualified-relation" property="schema:description" typeof="fabio:Script">
<code>&lt;&gt; a as:Announce ;</code>
<code>  as:object &lt;https://example.org/foo&gt; ;</code>
<code>  as:target &lt;https://example.net/article#introduction&gt; ;</code>
<code>  as:updated "2016-02-02T18:58:50.719Z"^^xsd:dateTime ;</code>
<code>  as:actor &lt;https://example.com/profile#alice&gt; ;</code>
<code>  schema:license &lt;https://creativecommons.org/licenses/by/4.0/&gt; .</code>
<code>&lt;https://example.org/foo&gt; a as:Note ;</code>
<code>  as:inReplyTo &lt;https://example.net/article#introduction&gt; .</code>
                                                </pre>
                                                <figcaption property="schema:name">Example notification type: qualified relation.</figcaption>
                                            </figure>

                                            <p>Semantic Pingback:</p>
                                            <figure class="listing example" id="notification-semantic-pingback" rel="schema:hasPart" resource="#notification-semantic-pingback">
                                                <pre about="#notification-semantic-pingback" property="schema:description" typeof="fabio:Script">
<code>&lt;&gt; a pingback:Request ;</code>
<code>  pingback:source &lt;https://example.org/foo&gt; ;</code>
<code>  pingback:target &lt;https://example.net/article&gt; .</code>
                                                </pre>
                                                <figcaption property="schema:name">Example notification type: Semantic Pingback.</figcaption>
                                            </figure>

                                            <p>Webmention:</p>
                                            <figure class="listing example" id="notification-webmention" rel="schema:hasPart" resource="#notification-webmention">
                                                <pre about="#notification-webmention" property="schema:description" typeof="fabio:Script">
<code>&lt;&gt;</code>
<code>  wm:source &lt;https://example.org/foo&gt; ;</code>
<code>  wm:target &lt;https://example.net/article&gt; .</code>
                                                </pre>
                                                <figcaption property="schema:name">Example notification type: Webmention.</figcaption>
                                            </figure>
                                        </div>
                                    </section>


                                    <section id="any-data" inlist="" rel="schema:hasPart" resource="#any-data">
                                        <h4 property="schema:name">Any data</h4>
                                        <div datatype="rdf:HTML" property="schema:description">
                                            <p>This is typically in cases where an application may want to notify with any information. A notification may contain the complete payload and not necessarily refer to the origin data (external resource).</p>

                                            <figure class="listing example" id="notification-any-data" rel="schema:hasPart" resource="#notification-any-data">
                                                <pre about="#notification-any-data" property="schema:description" typeof="fabio:Script">
<code>&lt;&gt; a sioc:Comment ;</code>
<code>  sioc:reply_of &lt;https://example.net/article&gt; ;</code>
<code>  sioc:created_at "2015-12-23T16:44:21Z"^^xsd:#dateTime ;</code>
<code>  sioc:content "Lorem ipsum dolor sit amet.." ;</code>
<code>  sioac:has_creator &lt;#author&gt; .</code>

<code>&lt;#author&gt; a sioc:UserAccount ;</code>
<code>  sioc:account_of &lt;../profile#alice&gt; ;</code>
<code>  sioc:avatar &lt;../avatar.jpg&gt; ;</code>
<code>  foaf:name "Alice" .</code>
                                                </pre>
                                                <figcaption property="schema:name">Example notification type: any data.</figcaption>
                                            </figure>
                                        </div>
                                    </section>
                                </div>
                            </section>
                        </div>
                    </section>

                    <section id="security-and-content-considerations" inlist="" rel="schema:hasPart" resource="#security-and-content-considerations">
                        <h2 property="schema:name">Security and Content Considerations</h2>
                        <div datatype="rdf:HTML" property="schema:description">
                            <p>..</p>

                            <section id="constraints" inlist="" rel="schema:hasPart" resource="#constraints">
                                <h3 property="schema:name">Constraints</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p>Inbox URLs <em class="rfc2119">SHOULD</em> announce their own shape constraints (e.g., <cite><a class="bibref" href="https://www.w3.org/TR/shacl/">SHACL</a></cite>, <cite><a href="http://www.w3.org/TR/annotation-protocol/">Web Annotation Protocol</a></cite>) via an HTTP <code>Link</code> header with a <code>rel</code> value of <code>http://www.w3.org/ns/ldp#constrainedBy</code> at a target URL. Senders <em class="rfc2119">SHOULD</em> comply with constraint specifications.</p>
                                </div>
                            </section>

                            <section id="payload-verification" inlist="" rel="schema:hasPart" resource="#payload-verification">
                                <h3 property="schema:name">Payload Verification</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p>The payload can contain arbitrary data and is vocabulary agnostic, thus the validity of the statements in the notification are at the discretion of the receivers and consumers - <q>anyone can say anything about anything.</q></p>
                                </div>
                            </section>

                            <section id="sender-verification" inlist="" rel="schema:hasPart" resource="#sender-verification">
                                <h3 property="schema:name">Sender Verification</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p>Receivers <em class="rfc2119">MAY</em> want to ensure or verify the sender of the notification in a number of different ways (but not limited to):</p>
                                    <ul>
                                        <li>by having a whitelist of senders whom can access the Inbox or receiver's knowledge of the sender whom created the notification</li>
                                        <li>senders having a copy (or hash) of the notification in their own <em>sent</em> container that can be accessed by the intended recipients</li>
                                        <li>digitally signing the notification</li>
                                    </ul>
                                </div>
                            </section>

                            <section id="preventing-abuse" inlist="" rel="schema:hasPart" resource="#preventing-abuse">
                                <h3 property="schema:name">Preventing Abuse</h3>
                                <div datatype="rdf:HTML" property="schema:description">
                                    <p>Receivers <em class="rfc2119">SHOULD</em> utilise the <a href="#constraints">constraints</a> to verify the complacency of the notifications, thereby filtering unwarranted notifications from being created on the server and referenced from Inbox's contents. Consumers <em class="rfc2119">MAY</em> also want to check the notifications against the shape constraints as announced by the receiver's Inbox before further processing or use.</p>
                                </div>
                            </section>
                        </div>
                    </section>

                    <section id="acknowledgements" inlist="" rel="schema:hasPart" resource="#acknowledgements">
                        <h2 about="#acknowledgements" property="schema:name" typeof="deo:Acknowledgements">Acknowledgements</h2>
                        <div datatype="rdf:HTML" property="schema:description">
                            <p>..</p>
                        </div>
                    </section>

                    <section id="references">
                        <h2>References</h2>
                        <div>
                        </div>
                    </section>
                </div>
            </article>
        </main>
    </body>
</html>